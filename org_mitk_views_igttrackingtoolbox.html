<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MITK-IGT: The MITK-IGT Tracking Toolbox</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MITK-IGT
   </div>
   <div id="projectbrief">IGT Extension of MITK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('org_mitk_views_igttrackingtoolbox.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">The MITK-IGT Tracking Toolbox</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#QmitkMITKIGTTrackingToolboxIntroduction">Introduction</a>
  </li>
  <li class="level1">
    <a href="#QmitkMITKIGTTrackingToolboxWorkflow">General workflow Introduction</a>
  </li>
  <li class="level1">
    <a href="#QmitkMITKIGTTrackingToolboxConnecting">Tracking Device Configuration</a>
  </li>
  <li class="level1">
    <a href="#Tracking">Tools</a>
    <ul>
      <li class="level2">
        <a href="#QmitkMITKIGTTrackingToolboxAddingTools">Adding tools</a>
      </li>
      <li class="level2">
        <a href="#QmitkMITKIGTTrackingToolboxLoadingTools">Loading tools</a>
      </li>
      <li class="level2">
        <a href="#QmitkMITKIGTTrackingToolboxAutoDetection">Auto detection of tools (only Aurora)</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#QmitkMITKIGTTrackingToolboxStartTracking">Start/stop tracking</a>
  </li>
  <li class="level1">
    <a href="#QmitkMITKIGTTrackingOptions">Options</a>
  </li>
  <li class="level1">
    <a href="#QmitkMITKIGTTrackingToolboxLogging">Logging features</a>
  </li>
</ul>
</div>
<div class="textblock"><div class="image">
<img src="iconTrackingToolbox.png" alt=""/>
<div class="caption">
Icon of the MITK-IGT Tracking Toolbox</div></div>
<p> <br  />
 </p>
<h1><a class="anchor" id="QmitkMITKIGTTrackingToolboxIntroduction"></a>
Introduction</h1>
<p>The MITK-IGT Tracking Toolbox is a view which allows you to connect to a tracking device, track and visualize navigation tools and write the tracked data into a log file. This page gives an overview of the view and is at the same time part of the IGT tutorial step <a class="el" href="org_mitk_gui_qt_igttracking.html">The IGT Tracking Plugin</a>. All parts containing instructions for the tutorial begin with the bold printed label <b>Tutorial</b>.</p>
<div class="image">
<img src="QmitkIGTTracking_ScreenshotMitk.png" alt=""/>
<div class="caption">
MITK Screenshot with the TrackingToolbox activated</div></div>
<p> <br  />
 </p>
<h1><a class="anchor" id="QmitkMITKIGTTrackingToolboxWorkflow"></a>
General workflow Introduction</h1>
<p>Currently the devices Polaris, Aurora (both Northern Digital Inc. (NDI); Waterloo, Ontario, Canada), MicronTracker (Claron Technology, Inc.; Toronto, Ontario, Canada) and Optitrack (NaturalPoint) are supported (see <a href="https://www.mitk.org/wiki/Mitk-Tracking-Device_Support_Levels">Hardware Tracking Device Support</a>). Different tracking hardware can be used via OpenIGTLink connections (see <a class="el" href="IGTTutorialStepOpenIGTLink.html">Open IGT Link tutorial</a> ). For this Tracking Toolbox tutorial, we will use a virtual tracking device, which allows you to use simulated tracking data. This is very helpful if you want to test or implement some tracking application and don't have the hardware always available.</p>
<p><a class="el" href="classA.html">A</a> general Workflow with the Tracking Toolbox may be:</p>
<ul>
<li>
Configuration of a tracking device </li>
<li>
Adding or loading a toolfile which holds tool definitions </li>
<li>
Start tracking </li>
<li>
Logging tracked data </li>
</ul>
<p><b>Tutorial:</b> In the following sections, we will get familiar with each of these points using the Virtual Tracking Device.</p>
<h1><a class="anchor" id="QmitkMITKIGTTrackingToolboxConnecting"></a>
Tracking Device Configuration</h1>
<p>The tracking device can be specified in the tracking device configuration section located in the upper area of the tracking tab. As shown in the screenshot below, you choose your tracking device in the drop down menu.</p>
<p>If you use a real tracking system, you might need to set some parameters like the serial port for Aurora or Polaris or the host name for your OpenIGTLink connection. Most implemented tracking device include an option to test your connection. Therefore you just need to press the button "test connection". The results are displayed in the small black box on the right.</p>
<p><b>Tutorial:</b> For a first introduction, please select the virtual tracking device in the drop-down-menu. You should see an option to add some jittering to the simulated data.</p>
<div class="image">
<img src="QmitkIGTTracking_ConfigurationWidget.png" alt=""/>
<div class="caption">
Tracking Device Configuration</div></div>
<p> <br  />
 </p>
<h1><a class="anchor" id="Tracking"></a>
Tools</h1>
<p>For tracking, you need information about your tools. You can either add single tools, load previously created tool storages or for some devices auto-detect all available tools. The best way to edit tools after creation/loading is <a class="el" href="org_mitk_views_igtnavigationtoolmanager.html">The MITK-IGT Navigation Tool Manager</a> view. Creation of new tools or loading of existing tool storages can be done within the Tracking Tool Widget.</p>
<div class="image">
<img src="QmitkIGTTracking_NavigationToolManagement_TrackingTools.png" alt=""/>
<div class="caption">
The tracking tool widget for adding or loading tools.</div></div>
<p> <br  />
 </p>
<p>All added or loaded tools will then be displayed in grey as shown in the screenshot below. If you start tracking they will become green if the tools were found and red if they were not found inside the tracking volume. </p><div class="image">
<img src="QmitkIGTTracking_TrackingToolsWidget.png" alt=""/>
<div class="caption">
Added Tracking Tools</div></div>
<p> <br  />
 </p>
<h2><a class="anchor" id="QmitkMITKIGTTrackingToolboxAddingTools"></a>
Adding tools</h2>
<p>The most simple step to begin with is to add new tools with this widget. The same widget is also available within <a class="el" href="org_mitk_views_igtnavigationtoolmanager.html">The MITK-IGT Navigation Tool Manager</a> view and the single parameters are explained there in more detail. </p><div class="image">
<img src="QmitkIGTTracking_NavigationToolManagementAddTool.png" alt=""/>
<div class="caption">
Adding a new tool</div></div>
<p> <br  />
 </p>
<p><b>Tutorial:</b> Please click the "Add single tool" button and make sure, that the Virtual Tracker is selected in the drop-down-menu (the tracking device configured in the first step must always match your tools!). You might want to give your tool a new name in the "Basic Information" section and load a surface for visualization in the "Tool Visualization" section (a surface file can be found in your binary folder if you did compile MITK by yourself: MITK-superbuild\MITK-Data\IGT-Data\ClaronTool.stl). If you don't have any surface data, you can just select "use simple cone". Click on "Finished" and repeat this step to add a second tool.</p>
<h2><a class="anchor" id="QmitkMITKIGTTrackingToolboxLoadingTools"></a>
Loading tools</h2>
<p>To load tools which can be tracked you need a predefined tracking tool storage. You can use the MITK <a class="el" href="org_mitk_views_igtnavigationtoolmanager.html">The MITK-IGT Navigation Tool Manager</a> view to define a navigation tool storage or to save the tools created within the last step in a toolstorage.</p>
<p>Navigation tool storages can be loaded by pressing the button "Load Tools". Please ensure that the tracking device type of the tools matches the chosen tracking device, otherwise you will get an error message if you try to start tracking.</p>
<h2><a class="anchor" id="QmitkMITKIGTTrackingToolboxAutoDetection"></a>
Auto detection of tools (only Aurora)</h2>
<p>If you use the Aurora system you also have the possibility to automatically detect the connected tools. In this case a tracking tool storage is created by the software. In the Tracking Device Configuration widget, a button "Auto Detection" appears. If you press this button the software connects to the system and automatically detects all connected tools. You will then be asked whether you want to save the detected tools as a tool storage to the hard drive. You might want to do this if you want to use or modify this tool storage later. In the automatically detected tool storage the tools are named AutoDetectedTools1, AutoDetectedTools2, and so on. Small spheres are used as tool surfaces. After autodetection the detected tools are loaded automatically even if you did not save them.</p>
<h1><a class="anchor" id="QmitkMITKIGTTrackingToolboxStartTracking"></a>
Start/stop tracking</h1>
<p>To start tracking, you first need to connect to your tracking device ("connect" button). If your tools or tool storage don't match the tracking device or if no connection can be established, this might give an error message here. </p><div class="image">
<img src="QmitkIGTTracking_TrackingControl.png" alt=""/>
<div class="caption">
Tracking Control to start tracking.</div></div>
<p> <br  />
  If connected successfully, the start tracking button is enabled. As soon as you clicked this button, the tool information and tools will be highlighted red or green (un-/successful tracking) and in case of successful tracking, it's position will be updated and the tools are visualized in the 3<a class="el" href="classD.html">D</a> view of MITK. Note that options may not be changed after connecting the tracking device.</p>
<p>You can start, freeze, unfreeze and stop the tracking as long as you are connected. If you want to finish your tracking, please stop an disconnect your tracking device.</p>
<p><b>Tutorial:</b> Please click "connect" and "start tracking". Both tools should move within the tracking volume, the position data should be updated in the tool widget and be highlighted green. You can freeze, unfreeze and stop/restart the tracking as often as you like. When finished, please stop and disconnect.</p>
<h1><a class="anchor" id="QmitkMITKIGTTrackingOptions"></a>
Options</h1>
<p>In the options tab you can enable or disable the visualization of the tracking volume and of the tool quaternions. If enabled, the tool quaternions are shown in the tool information. You can also define the update rate of the tracking data. The update rate should not be set higher than the update rate of the tracking system. Other options might be available here depending on the newest development within MITK-IGT. </p><div class="image">
<img src="QmitkIGTTracking_Options.png" alt=""/>
<div class="caption">
Recorded logging data.</div></div>
<p> <br  />
 </p>
<h1><a class="anchor" id="QmitkMITKIGTTrackingToolboxLogging"></a>
Logging features</h1>
<p>The logging feature of the Tracking Toolbox supports logging in XML or CSV format. If your device is tracking, you are able to log the tracking data by using the logging tab. You first must define a file name. You can then choose whether you want comma separated (csv) or xml format. Press "Start Logging" to start logging. You can also limit the number of logged frames, which will cause the logging to stop automatically after the given number.</p>
<div class="image">
<img src="QmitkIGTTracking_LoggingWidget.png" alt=""/>
<div class="caption">
Tracking options.</div></div>
<p> <br  />
 </p>
<p><b>Tutorial:</b> Please connect and start tracking as you already did in the last step, switch to the logging tab, specify a csv file and start logging for a view seconds. Stop the tracking after a short period of time. You should now find the specified file which should look similar to the following screenshot and contain position data for both tools: </p><div class="image">
<img src="QmitkIGTTracking_LogFile.png" alt=""/>
<div class="caption">
Recorded logging data.</div></div>
<p> <br  />
 </p>
<p>Return to the overview of the IGT Tracking Plugin views: <a class="el" href="org_mitk_gui_qt_igttracking.html">The IGT Tracking Plugin</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="mitkigt.html">MITK-IGT</a></li><li class="navelem"><a class="el" href="org_mitk_gui_qt_igttracking.html">The IGT Tracking Plugin</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
